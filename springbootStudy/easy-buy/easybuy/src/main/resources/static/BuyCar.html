<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link type="text/css" rel="stylesheet" href="css/style.css"/>
    <!--[if IE 6]>
    <script src="js/iepng.js" type="text/javascript"></script>
    <script type="text/javascript">
        EvPNG.fix('div, ul, img, li, input, a');
    </script>
    <![endif]-->
    <script src="vue/axios.min.js"></script>
    <script src="vue/axios.interceptor.js"></script>
    <script src="vue/vue.min.js"></script>
    <script src="vue/img.js"></script>

    <title>尤洪</title>

</head>
<body>
<!--Begin Header Begin-->

<div id="soubg">
    <div class="soubg">
        <div class="sou">
            <!--Begin 所在收货地区 Begin-->
            <span class="s_city_b">
        	<span class="fl">送货至：</span>
            <span class="s_city">
            	<span>四川</span>
                <div class="s_city_bg">
                	<div class="s_city_t"></div>
                    <div class="s_city_c">
                    	<h2>请选择所在的收货地区</h2>
                        <table border="0" class="c_tab" style="width:235px; margin-top:10px;" cellspacing="0"
                               cellpadding="0">
                          <tr>
                            <th>A</th>
                            <td class="c_h"><span>安徽</span><span>澳门</span></td>
                          </tr>
                          <tr>
                            <th>B</th>
                            <td class="c_h"><span>北京</span></td>
                          </tr>
                          <tr>
                            <th>C</th>
                            <td class="c_h"><span>重庆</span></td>
                          </tr>
                          <tr>
                            <th>F</th>
                            <td class="c_h"><span>福建</span></td>
                          </tr>
                          <tr>
                            <th>G</th>
                            <td class="c_h"><span>广东</span><span>广西</span><span>贵州</span><span>甘肃</span></td>
                          </tr>
                          <tr>
                            <th>H</th>
                            <td class="c_h"><span>河北</span><span>河南</span><span>黑龙江</span><span>海南</span><span>湖北</span><span>湖南</span></td>
                          </tr>
                          <tr>
                            <th>J</th>
                            <td class="c_h"><span>江苏</span><span>吉林</span><span>江西</span></td>
                          </tr>
                          <tr>
                            <th>L</th>
                            <td class="c_h"><span>辽宁</span></td>
                          </tr>
                          <tr>
                            <th>N</th>
                            <td class="c_h"><span>内蒙古</span><span>宁夏</span></td>
                          </tr>
                          <tr>
                            <th>Q</th>
                            <td class="c_h"><span>青海</span></td>
                          </tr>
                          <tr>
                            <th>S</th>
                            <td class="c_h"><span>上海</span><span>山东</span><span>山西</span><span
                                    class="c_check">四川</span><span>陕西</span></td>
                          </tr>
                          <tr>
                            <th>T</th>
                            <td class="c_h"><span>台湾</span><span>天津</span></td>
                          </tr>
                          <tr>
                            <th>X</th>
                            <td class="c_h"><span>西藏</span><span>香港</span><span>新疆</span></td>
                          </tr>
                          <tr>
                            <th>Y</th>
                            <td class="c_h"><span>云南</span></td>
                          </tr>
                          <tr>
                            <th>Z</th>
                            <td class="c_h"><span>浙江</span></td>
                          </tr>
                        </table>
                    </div>
                </div>
            </span>
        </span>
            <!--End 所在收货地区 End-->
            <span class="fr">
        	<span class="fl">
                <span v-if="loginName===''">你好，请<a href="Login.html">登录</a>&nbsp;</span>
                <span v-else>欢迎:
                    <span style="font-size: 16px">{{loginName}}</span> &nbsp;
                    <a href="#" @click.prevent="exit">注销</a>&nbsp;
                </span>


                <a href="/api/Regist.html" style="color:#ff4e00;">免费注册</a>&nbsp;|&nbsp;
                <a href="/api/Member_Order.html">我的订单</a>&nbsp;|
            </span>

        	<span class="ss">
            	<div class="ss_list">
                	<a href="#">收藏夹</a>
                    <div class="ss_list_bg">
                    	<div class="s_city_t"></div>
                        <div class="ss_list_c">
                        	<ul>
                            	<li><a href="/api/Member_Collect.html">我的收藏</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="ss_list">
                	<a href="#">客户服务</a>
                    <div class="ss_list_bg">
                    	<div class="s_city_t"></div>
                        <div class="ss_list_c">
                        	<ul>
                            	<li><a href="/api/Member_Safe.html">账户安全</a></li>
                                <li><a href="/api/NewsList.html">资讯列表</a></li>
                                <li><a href="/api/Member_Order.html">后台服务</a>&nbsp;</li>
                                <li><a href="/api/Member_address.html">用户地址</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="ss_list">
                	<a href="#">购物</a>
                    <div class="ss_list_bg">
                    	<div class="s_city_t"></div>
                        <div class="ss_list_c">
                        	<ul>
                            	<li><a href="/api/CategoryList.html">全部商品</a></li>
                                <li><a href="/api/BuyCar.html">购物车</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </span>
            <span class="fl">|&nbsp;关注我们：</span>
            <span class="s_sh"><a href="#" class="sh1">新浪</a><a href="#" class="sh2">微信</a></span>
            <span class="fr">|&nbsp;<a href="#">手机版&nbsp;<img src="images/s_tel.png" align="absmiddle"/></a></span>
        </span>
        </div>
    </div>
    <div class="top">
        <div class="logo"><a href="/api/Index.html"><img src="images/logo.png"/></a></div>
        <div class="search">
            <form>
                <input type="text" value="" class="s_ipt"/>
                <input type="submit" value="搜索" class="s_btn"/>
            </form>
            <span class="fl"><a href="#">咖啡</a><a href="#">iphone 6S</a><a href="#">新鲜美食</a><a href="#">蛋糕</a><a
                    href="#">日用品</a><a href="#">连衣裙</a></span>
        </div>

        <div class="i_car">
            <div class="car_t">购物车 [ <span>{{car.totalNum}}</span> ]</div>

            <div class="car_bg">

                <!--Begin 购物车未登录 Begin-->
                <div class="un_login" v-if="loginName==''">还未登录！<a href="/api/Login.html" style="color:#ff4e00;">马上登录</a>
                    查看购物车！
                </div>


                <!--End 购物车未登录 End-->
                <!--Begin 购物车已登录 Begin-->
                <div v-else>
                    <ul class="cars">
                        <li v-for="carDetail in carDetailList">
                            <div class="img"><a href="#"><img
                                    :src="imgURL+carDetail.fileName" width="58"
                                    height="58"/></a></div>
                            <div class="name"><a href="#">{{carDetail.productName}}</a></div>
                            <div class="price"><font color="#ff4e00">{{carDetail.price}}</font> X{{carDetail.buyNum}}
                            </div>
                        </li>
                    </ul>
                    <div class="price_sum">共计&nbsp; <font color="#ff4e00">￥</font><span>{{car.totalPrice}}</span>
                    </div>
                    <div class="price_a"><a :href="'BuyCar.html?id='+car.id">去购物车结算</a></div>
                    <!--End 购物车已登录 End-->
                </div>
            </div>
        </div>
    </div>
    <!--End Header End-->
    <!--Begin Menu Begin-->
    <div class="menu_bg">
        <div class="menu">
            <!--Begin 商品分类详情 Begin-->
            <div class="nav">
                <div class="nav_t">全部商品分类</div>
                <div class="leftNav none">
                    <ul>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav1.png"/></span>
                                <span class="fl">进口食品、生鲜</span>
                            </div>
                            <div class="zj">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav2.png"/></span>
                                <span class="fl">食品、饮料、酒</span>
                            </div>
                            <div class="zj" style="top:-40px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力2</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav3.png"/></span>
                                <span class="fl">母婴、玩具、童装</span>
                            </div>
                            <div class="zj" style="top:-80px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力3</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav4.png"/></span>
                                <span class="fl">家居、家庭清洁、纸品</span>
                            </div>
                            <div class="zj" style="top:-120px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力4</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav5.png"/></span>
                                <span class="fl">美妆、个人护理、洗护</span>
                            </div>
                            <div class="zj" style="top:-160px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力5</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav6.png"/></span>
                                <span class="fl">女装、内衣、中老年</span>
                            </div>
                            <div class="zj" style="top:-200px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力6</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav7.png"/></span>
                                <span class="fl">鞋靴、箱包、腕表配饰</span>
                            </div>
                            <div class="zj" style="top:-240px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力7</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav8.png"/></span>
                                <span class="fl">男装、运动</span>
                            </div>
                            <div class="zj" style="top:-280px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力8</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav9.png"/></span>
                                <span class="fl">手机、小家电、电脑</span>
                            </div>
                            <div class="zj" style="top:-320px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力9</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="fj">
                                <span class="n_img"><span></span><img src="images/nav10.png"/></span>
                                <span class="fl">礼品、充值</span>
                            </div>
                            <div class="zj" style="top:-360px;">
                                <div class="zj_l">
                                    <div class="zj_l_c">
                                        <h2>零食 / 糖果 / 巧克力10</h2>
                                        <a href="#">坚果</a>|<a href="#">蜜饯</a>|<a href="#">红枣</a>|<a
                                            href="#">牛肉干</a>|<a href="#">巧克力</a>|
                                        <a href="#">口香糖</a>|<a href="#">海苔</a>|<a href="#">鱼干</a>|<a
                                            href="#">蜜饯</a>|<a href="#">红枣</a>|
                                        <a href="#">蜜饯</a>|<a href="#">红枣</a>|<a href="#">牛肉干</a>|<a
                                            href="#">蜜饯</a>|
                                    </div>
                                </div>
                                <div class="zj_r">
                                    <a href="#"><img src="images/n_img1.jpg" width="236" height="200"/></a>
                                    <a href="#"><img src="images/n_img2.jpg" width="236" height="200"/></a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <!--End 商品分类详情 End-->
            <ul class="menu_r">
                <li><a href="/api/Index.html">首页</a></li>
            </ul>
            <div class="m_ad">中秋送好礼！</div>
        </div>
    </div>
    <!--End Menu End-->
    <div class="i_bg">
        <div class="content mar_20">
            <img src="images/img1.jpg"/>
        </div>

        <div v-if="car.totalNum==0">
            <h2 style="text-align: center">暂无数据</h2>
        </div>

        <!--Begin 第一步：查看购物车 Begin -->
        <div class="content mar_20" v-else>
            <table border="0" class="car_tab" style="width:1200px; margin-bottom:50px;" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="car_th" width="100">添加购物车</td>
                    <td class="car_th" width="490">商品名称</td>
                    <td class="car_th" width="150">购买数量</td>
                    <td class="car_th" width="130">小计</td>
                    <td class="car_th" width="150">操作</td>
                </tr>

                <tr v-for="carDetail in carDetailList">

                    <td>
                        <input type="checkbox" v-model="selectProductId" :value="carDetail.productId"
                               @change="checkboxOnChange">
                    </td>

                    <td>
                        <div class="c_s_img"><img :src="imgURL+carDetail.fileName"
                                                  width="73" height="73"/></div>
                        {{carDetail.productName}}
                    </td>

                    <td align="center">
                        <div class="c_num">
                            <input type="button" @click="reduce(carDetail)" class="car_btn_1"/>
                            <input type="text" v-model="carDetail.buyNum" class="car_ipt"
                                   @blur="checkInputNum($event,carDetail)"/>
                            <input type="button" @click="add(carDetail)" class="car_btn_2"/>
                        </div>
                    </td>

                    <td align="center" style="color:#ff4e00;">{{carDetail.totalPrice}}</td>
                    <td align="center"><a href="#" @click.prevent="toDel(carDetail.productId)">删除</a>&nbsp; &nbsp;<a
                            href="#">加入收藏</a></td>
                </tr>

                <tr height="70">
                    <td colspan="6" style="font-family:'Microsoft YaHei'; border-bottom:0;">


                        <label class="r_rad"><input type="button" @click="selectAllProduct()" value="全选"/>&nbsp;&nbsp;
                            <input type="button" @click="cancelSelectAll()" value="取消全选"/>
                        </label>


                        <span class="fr">商品总价：<b style="font-size:22px; color:#ff4e00;">{{totalPrice}}</b></span>
                    </td>
                </tr>
                <tr valign="top" height="150">
                    <td colspan="6" align="right">
                        <a href="#"><img src="images/buy1.gif" @click="goCategoryList"></a>&nbsp; &nbsp; <a
                            href="#"><img
                            src="images/buy2.gif" @click="goBuy"/></a>
                    </td>
                </tr>
            </table>

        </div>

        <script>
            let vm = new Vue({
                el: "#soubg",
                data: {

                    //购物车展示
                    loginName: "",
                    car: "",
                    carDetailList: "",


                    //选择的商品
                    selectProductId: [],
                    totalPrice: 0,

                },

                methods: {

                    exit: function () {
                        if (confirm("你确定要注销吗?")) {
                            axios({
                                url: "/api/loginOut",
                            }).then(rs => {
                                if (rs.data.msg == "true") {
                                    alert("注销成功");
                                    window.sessionStorage.clear();
                                    window.location.href = "Login.html";
                                }
                            })
                        }
                    },


                    //去结算
                    goBuy() {
                        let array = [];
                        let selectProductId = this.selectProductId;
                        let carDetailList = this.carDetailList;

                        if (selectProductId.length == 0) {
                            alert("你还没有购买商品");
                            return;
                        }

                        //把购买的商品放入一个数组里面
                        for (let carDetail in carDetailList) {
                            for (let productId in selectProductId) {
                                if (selectProductId[productId] == carDetailList[carDetail].productId) {
                                    array.push(carDetailList[carDetail]);
                                }
                            }
                        }

                        axios({
                            url: "/api/car/updateCar",

                            //这里只能因为要传递一个列表数据量大所以要Post请求
                            method: "POST",
                            data: {
                                loginName: this.loginName,
                                updateCarList: JSON.stringify(array),
                            }
                        }).then(rs => {
                            if (rs.data.code == 200) {

                                //把选择的列表转化为json,还需要编译json
                                let json = JSON.stringify(selectProductId);
                                let encodeJson = encodeURIComponent(json);
                                window.location.href = "/api/BuyCar_Two.html?json=" + encodeJson;
                            }
                        })
                    },


                    //去商品列表
                    goCategoryList() {
                        window.location.href = "CategoryList.html";
                    },


                    //删除购物车商品
                    toDel(productId) {
                        let result = confirm("你确定要删除" + productId + "的商品吗?");
                        if (result == false) {
                            return;
                        }
                        axios({
                            url: "/api/car/deleteCar",
                            params: {
                                productId,
                                loginName: this.loginName
                            }
                        }).then(rs => {
                            if (rs.data.code == 200) {
                                alert("删除成功");
                                this.getCar();
                                this.checkboxOnChange();
                            }
                        })
                    },


                    //全选和取消全选
                    cancelSelectAll() {
                        this.selectProductId = [];
                        this.checkboxOnChange();
                    },


                    selectAllProduct() {
                        let array = [];
                        for (let carDetail in this.carDetailList) {
                            array.push(this.carDetailList[carDetail].productId)
                        }
                        this.selectProductId = array;
                        this.checkboxOnChange();
                    },


                    //输入框输入值
                    checkInputNum(event, carDetail) {

                        let num = event.target.value;


                        if (!/^[1-9]\d*$/.test(num)) {
                            alert("输入框的值必须是正整数");
                            num = 1;
                            carDetail.buyNum = num;

                            //小计等于单价
                            carDetail.totalPrice = carDetail.price;
                        }

                        axios({
                            url: "/api/product/selectProduct",
                            params: {
                                id: carDetail.productId,
                            }
                        }).then(rs => {
                            let stock = rs.data.product.stock;
                            if (num > stock) {
                                alert("库存不足");
                                carDetail.buyNum = stock;
                                carDetail.totalPrice = carDetail.price * stock;
                            } else {
                                carDetail.buyNum = num;
                                carDetail.totalPrice = num * carDetail.price;
                            }
                            this.checkboxOnChange();
                        })
                    },


                    //按钮加减
                    add(carDetail) {
                        axios({
                            url: "/api/product/selectProduct",
                            params: {
                                id: carDetail.productId,
                            }
                        }).then(rs => {
                            console.log(rs.data.product);

                            let stock = rs.data.product.stock;
                            if (carDetail.buyNum >= stock) {
                                alert("不能再增加了");
                                return;
                            }

                            carDetail.buyNum += 1;
                            carDetail.totalPrice = carDetail.totalPrice + carDetail.price;
                            this.checkboxOnChange();
                        })
                    },


                    reduce(carDetail) {

                        if (carDetail.buyNum == 1) {
                            alert("不能再减少了");
                            return;
                        }

                        carDetail.buyNum -= 1;
                        carDetail.totalPrice = carDetail.totalPrice - carDetail.price;
                        this.checkboxOnChange();
                    },


                    //勾选框事件
                    checkboxOnChange() {
                        this.totalPrice = 0;
                        let carDetailList = this.carDetailList;
                        let selectProductId = this.selectProductId;

                        for (let carDetail in carDetailList) {
                            for (let productId in selectProductId) {
                                if (selectProductId[productId] == carDetailList[carDetail].productId) {
                                    this.totalPrice = this.totalPrice + carDetailList[carDetail].totalPrice;
                                }
                            }
                        }
                    },


                    //购物车展示购买的商品
                    getCar() {
                        axios({
                            url: "/api/car/getCar",
                        }).then(rs => {
                            this.car = rs.data.car;
                            //定义一个专门存放 购物车的数组 把返回的集合遍历,集合元素放入数组
                            let array = [];

                            for (let car in rs.data.carMap) {
                                array.push(rs.data.carMap[car]);
                            }

                            this.carDetailList = array;
                        })
                    },
                },

                created: function () {
                    this.getCar();


                    axios({
                        url: "/api/user/findUserFromToken"
                    }).then(rs => {
                        if(rs.data.user!=null){
                            this.loginName = rs.data.user.loginName;
                            this.userType = rs.data.user.type;
                        }
                    })
                }

            })
        </script>

        <!--End 第一步：查看购物车 End-->


        <!--Begin 弹出层-删除商品 Begin-->
        <div id="fade" class="black_overlay"></div>
        <div id="MyDiv" class="white_content">
            <div class="white_d">
                <div class="notice_t">
                    <span class="fr" style="margin-top:10px; cursor:pointer;" onclick="CloseDiv('MyDiv','fade')"><img
                            src="images/close.gif"/></span>
                </div>
                <div class="notice_c">

                    <table border="0" align="center" style="font-size:16px;" cellspacing="0" cellpadding="0">
                        <tr valign="top">
                            <td>您确定要把该商品移除购物车吗？</td>
                        </tr>
                        <tr height="50" valign="bottom">
                            <td><a href="#" class="b_sure">确定</a><a href="#" class="b_buy">取消</a></td>
                        </tr>
                    </table>

                </div>
            </div>
        </div>
        <!--End 弹出层-删除商品 End-->


        <!--Begin Footer Begin -->
        <div class="b_btm_bg bg_color">
            <div class="b_btm">
                <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                       cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="72"><img src="images/b1.png" width="62" height="62"/></td>
                        <td><h2>正品保障</h2>正品行货 放心购买</td>
                    </tr>
                </table>
                <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                       cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="72"><img src="images/b2.png" width="62" height="62"/></td>
                        <td><h2>满38包邮</h2>满38包邮 免运费</td>
                    </tr>
                </table>
                <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                       cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="72"><img src="images/b3.png" width="62" height="62"/></td>
                        <td><h2>天天低价</h2>天天低价 畅选无忧</td>
                    </tr>
                </table>
                <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                       cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="72"><img src="images/b4.png" width="62" height="62"/></td>
                        <td><h2>准时送达</h2>收货时间由你做主</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="b_nav">
            <dl>
                <dt><a href="#">新手上路</a></dt>
                <dd><a href="#">售后流程</a></dd>
                <dd><a href="#">购物流程</a></dd>
                <dd><a href="#">订购方式</a></dd>
                <dd><a href="#">隐私声明</a></dd>
                <dd><a href="#">推荐分享说明</a></dd>
            </dl>
            <dl>
                <dt><a href="#">配送与支付</a></dt>
                <dd><a href="#">货到付款区域</a></dd>
                <dd><a href="#">配送支付查询</a></dd>
                <dd><a href="#">支付方式说明</a></dd>
            </dl>
            <dl>
                <dt><a href="#">会员中心</a></dt>
                <dd><a href="#">资金管理</a></dd>
                <dd><a href="#">我的收藏</a></dd>
                <dd><a href="#">我的订单</a></dd>
            </dl>
            <dl>
                <dt><a href="#">服务保证</a></dt>
                <dd><a href="#">退换货原则</a></dd>
                <dd><a href="#">售后服务保证</a></dd>
                <dd><a href="#">产品质量保证</a></dd>
            </dl>
            <dl>
                <dt><a href="#">联系我们</a></dt>
                <dd><a href="#">网站故障报告</a></dd>
                <dd><a href="#">购物咨询</a></dd>
                <dd><a href="#">投诉与建议</a></dd>
            </dl>
            <div class="b_tel_bg">
                <a href="#" class="b_sh1">新浪微博</a>
                <a href="#" class="b_sh2">腾讯微博</a>
                <p>
                    服务热线：<br/>
                    <span>400-123-4567</span>
                </p>
            </div>
            <div class="b_er">
                <div class="b_er_c"><img src="images/er.gif" width="118" height="118"/></div>
                <img src="images/ss.png"/>
            </div>
        </div>
        <div class="btmbg">
            <div class="btm">
                备案/许可证编号：蜀ICP备12009302号-1-www.dingguagua.com Copyright © 2015-2018 尤洪商城网 All Rights
                Reserved. 复制必究 , Technical Support: Dgg Group <br/>
                <img src="images/b_1.gif" width="98" height="33"/><img src="images/b_2.gif" width="98" height="33"/><img
                    src="images/b_3.gif" width="98" height="33"/><img src="images/b_4.gif" width="98" height="33"/><img
                    src="images/b_5.gif" width="98" height="33"/><img src="images/b_6.gif" width="98" height="33"/>
            </div>
        </div>
        <!--End Footer End -->
    </div>

</div>

</body>
</html>
